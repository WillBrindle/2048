/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";let e;try{new EventTarget,e=!0}catch(t){e=!1}var t=e?EventTarget:class{constructor(){this.e={}}addEventListener(e,t,s=!1){this.t(e).push(t)}removeEventListener(e,t,s=!1){const i=this.t(e),n=i.indexOf(t);n>-1&&i.splice(n,1)}dispatchEvent(e){return e.target=this,Object.freeze(e),this.t(e.type).forEach((t=>t(e))),!0}t(e){return this.e[e]=this.e[e]||[]}},s=e?Event:class{constructor(e){this.type=e}};class i extends s{constructor(e,t){super(e),this.newState=t.newState,this.oldState=t.oldState,this.originalEvent=t.originalEvent}}const n="active",a="passive",r="hidden",c="frozen",o="terminated",h="object"==typeof safari&&safari.pushNotification,u=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],d=e=>(e.preventDefault(),e.returnValue="Are you sure?"),m=[[n,a,r,o],[n,a,r,c],[r,a,n],[c,r],[c,n],[c,a]].map((e=>e.reduce(((e,t,s)=>(e[t]=s,e)),{}))),l=()=>document.visibilityState===r?r:document.hasFocus()?n:a;var p=new class extends t{constructor(){super();const e=l();this.s=e,this.i=[],this.a=this.a.bind(this),u.forEach((e=>addEventListener(e,this.a,!0))),h&&addEventListener("beforeunload",(e=>{this.n=setTimeout((()=>{e.defaultPrevented||e.returnValue.length>0||this.r(e,r)}),0)}))}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(e){!this.i.indexOf(e)>-1&&(0===this.i.length&&addEventListener("beforeunload",d),this.i.push(e))}removeUnsavedChanges(e){const t=this.i.indexOf(e);t>-1&&(this.i.splice(t,1),0===this.i.length&&removeEventListener("beforeunload",d))}r(e,t){if(t!==this.s){const s=((e,t)=>{for(let s,i=0;s=m[i];++i){const i=s[e],n=s[t];if(i>=0&&n>=0&&n>i)return Object.keys(s).slice(i,n+1)}return[]})(this.s,t);for(let t=0;t<s.length-1;++t){const n=s[t],a=s[t+1];this.s=a,this.dispatchEvent(new i("statechange",{oldState:n,newState:a,originalEvent:e}))}}}a(e){switch(h&&clearTimeout(this.n),e.type){case"pageshow":case"resume":this.r(e,l());break;case"focus":this.r(e,n);break;case"blur":this.s===n&&this.r(e,l());break;case"pagehide":case"unload":this.r(e,e.persisted?c:o);break;case"visibilitychange":this.s!==c&&this.s!==o&&this.r(e,l());break;case"freeze":this.r(e,c)}}};const v=p;(()=>{const e=window.location,t=(new Date).getTime(),s=e.hostname,i=e.pathname,n={timestamp:t,path:i};if(e.search){const e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries());t.utm_source&&(n.utm_source=t.utm_source),t.utm_medium&&(n.utm_medium=t.utm_medium),t.utm_campaign&&(n.utm_campaign=t.utm_campaign),t.utm_term&&(n.utm_term=t.utm_term),t.utm_content&&(n.utm_content=t.utm_content)}v.addEventListener("statechange",(function(e){if(alert(e.newState),"visibilitychange"===e.newState){n.duration=(new Date).getTime()-t;const e=Object.keys(n).map((e=>`${e}=${encodeURIComponent(n[e])}`)).join("&"),i=`https://vxl5csd7sd.execute-api.us-east-1.amazonaws.com/dev/${s}/log?${e}`;window.navigator.sendBeacon(i)}}))})()})();

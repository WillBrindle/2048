/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";let e;try{new EventTarget,e=!0}catch(t){e=!1}var t=e?EventTarget:class{constructor(){this.e={}}addEventListener(e,t,s=!1){this.t(e).push(t)}removeEventListener(e,t,s=!1){const a=this.t(e),i=a.indexOf(t);i>-1&&a.splice(i,1)}dispatchEvent(e){return e.target=this,Object.freeze(e),this.t(e.type).forEach((t=>t(e))),!0}t(e){return this.e[e]=this.e[e]||[]}},s=e?Event:class{constructor(e){this.type=e}};class a extends s{constructor(e,t){super(e),this.newState=t.newState,this.oldState=t.oldState,this.originalEvent=t.originalEvent}}const i="active",n="passive",r="hidden",c="frozen",o="terminated",h="object"==typeof safari&&safari.pushNotification,u=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],d=e=>(e.preventDefault(),e.returnValue="Are you sure?"),m=[[i,n,r,o],[i,n,r,c],[r,n,i],[c,r],[c,i],[c,n]].map((e=>e.reduce(((e,t,s)=>(e[t]=s,e)),{}))),l=()=>document.visibilityState===r?r:document.hasFocus()?i:n;var p=new class extends t{constructor(){super();const e=l();this.s=e,this.i=[],this.a=this.a.bind(this),u.forEach((e=>addEventListener(e,this.a,!0))),h&&addEventListener("beforeunload",(e=>{this.n=setTimeout((()=>{e.defaultPrevented||e.returnValue.length>0||this.r(e,r)}),0)}))}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(e){!this.i.indexOf(e)>-1&&(0===this.i.length&&addEventListener("beforeunload",d),this.i.push(e))}removeUnsavedChanges(e){const t=this.i.indexOf(e);t>-1&&(this.i.splice(t,1),0===this.i.length&&removeEventListener("beforeunload",d))}r(e,t){if(t!==this.s){const s=((e,t)=>{for(let s,a=0;s=m[a];++a){const a=s[e],i=s[t];if(a>=0&&i>=0&&i>a)return Object.keys(s).slice(a,i+1)}return[]})(this.s,t);for(let t=0;t<s.length-1;++t){const i=s[t],n=s[t+1];this.s=n,this.dispatchEvent(new a("statechange",{oldState:i,newState:n,originalEvent:e}))}}}a(e){switch(h&&clearTimeout(this.n),e.type){case"pageshow":case"resume":this.r(e,l());break;case"focus":this.r(e,i);break;case"blur":this.s===i&&this.r(e,l());break;case"pagehide":case"unload":this.r(e,e.persisted?c:o);break;case"visibilitychange":this.s!==c&&this.s!==o&&this.r(e,l());break;case"freeze":this.r(e,c)}}};const v=p;(()=>{const e=window.location,t=(new Date).getTime(),s=e.hostname,a=e.pathname,i=(document.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)$/,"$1"),n="https://vxl5csd7sd.execute-api.us-east-1.amazonaws.com/dev",r={timestamp:t,path:a,referrer:i};if(e.search){const e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries());t.utm_source&&(r.utm_source=t.utm_source),t.utm_medium&&(r.utm_medium=t.utm_medium),t.utm_campaign&&(r.utm_campaign=t.utm_campaign),t.utm_term&&(r.utm_term=t.utm_term),t.utm_content&&(r.utm_content=t.utm_content)}document.addEventListener("click",(e=>{const t=e.path.reverse().slice(3).map((e=>`${e.tagName.toLowerCase()}${e.id?"#"+e.id:""}${(e.className?`.${e.className}`:"").replace(" ",".")}`)).join(">"),i={timestamp:(new Date).getTime(),path:a,t,e:"click"},r=Object.keys(i).map((e=>`${e}=${encodeURIComponent(i[e])}`)).join("&");fetch(`${n}/${s}/event?${r}`)})),v.addEventListener("statechange",(function(e){if("hidden"===e.newState){r.duration=(new Date).getTime()-t;const e=Object.keys(r).map((e=>`${e}=${encodeURIComponent(r[e])}`)).join("&"),a=`${n}/${s}/log?${e}`;window.navigator.sendBeacon(a)}}))})()})();
